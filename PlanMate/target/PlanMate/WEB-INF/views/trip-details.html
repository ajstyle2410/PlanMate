<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Trip Details</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#f8f7ff] text-[#012a4a] min-h-screen flex flex-col">

<!-- Header -->
<header class="bg-[#003049] text-white p-4 shadow-md flex justify-between items-center">
    <h1 class="text-2xl font-bold">Trip Plan Details</h1>
    <a href="/" class="text-sm hover:underline">â† Back to Plans</a>
</header>

<!-- Main Content -->
<main class="flex flex-1">

    <!-- Left: Trip Details -->
    <section class="w-3/4 p-6 space-y-6">
        <!-- Trip Details Card -->
        <div class="bg-white p-6 rounded-xl shadow-lg">
            <h2 class="text-3xl font-bold mb-2" th:text="${trip.title}">Trip to Goa</h2>
            <p class="text-gray-600 mb-4" th:text="${trip.description}">
                Enjoy beaches, nightlife, and adventure with this group trip.
            </p>

            <ul class="grid grid-cols-2 gap-4 text-gray-700">
                <li><span class="font-semibold">ğŸ“… Date:</span> <span th:text="${trip.date}">12 Nov - 16 Nov 2025</span></li>
                <li><span class="font-semibold">ğŸ’° Budget:</span> <span th:text="${trip.budget}">â‚¹15,000</span></li>
                <li><span class="font-semibold">ğŸ•’ Days/Nights:</span> <span th:text="${trip.duration}">4 Days, 3 Nights</span></li>
                <li><span class="font-semibold">ğŸ‘¤ Uploader:</span> <span th:text="${trip.uploader}">Ajay</span></li>
            </ul>

            <!-- Interested Button -->
            <div class="mt-6">
                <button id="interestBtn"
                        class="px-4 py-2 bg-[#003049] text-white rounded-lg hover:bg-[#012a4a] transition">
                    ğŸ‘ I'm Interested
                </button>
            </div>
        </div>

        <!-- Chat Section -->
        <div class="bg-white p-6 rounded-xl shadow-lg">
            <h3 class="text-xl font-bold mb-3">ğŸ’¬ Discussion</h3>
            <div id="chatBox" class="h-48 overflow-y-auto border rounded-lg p-3 bg-gray-50">
                <!-- Chat Messages -->
                <p class="text-gray-600">Welcome to the trip discussion! ğŸš€</p>
            </div>
            <div class="mt-3 flex gap-2">
                <input id="chatInput" type="text" placeholder="Type a message..."
                       class="flex-1 border rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#003049] outline-none">
                <button id="sendBtn" class="px-4 py-2 bg-[#003049] text-white rounded-lg hover:bg-[#012a4a]">
                    Send
                </button>
            </div>
        </div>
    </section>

    <!-- Right: Interested Users Panel -->
    <aside class="w-1/4 bg-[#012a4a] text-white p-6 flex flex-col rounded-l-xl shadow-lg">
        <h3 class="text-xl font-bold mb-4">ğŸ™‹ Interested Users</h3>
        <ul id="interestedList" class="space-y-2">
            <li class="bg-[#003049] px-3 py-2 rounded-lg">Ajay</li>
        </ul>
    </aside>
</main>

<!-- Footer -->
<footer class="bg-[#003049] text-white p-4 text-center">
    Â© 2025 PlanMate. All Rights Reserved.
</footer>

<!-- JS for dynamic behavior -->
<script>
    const interestBtn = document.getElementById("interestBtn");
    const interestedList = document.getElementById("interestedList");
    const currentUser = "You"; // Replace with logged-in user via Thymeleaf

    interestBtn.addEventListener("click", () => {
        const li = document.createElement("li");
        li.textContent = currentUser;
        li.className = "bg-[#003049] px-3 py-2 rounded-lg";
        interestedList.appendChild(li);
        interestBtn.disabled = true;
        interestBtn.textContent = "âœ… Interested Added";
        interestBtn.classList.add("opacity-70");
    });

    // Chat functionality
    const chatInput = document.getElementById("chatInput");
    const chatBox = document.getElementById("chatBox");
    const sendBtn = document.getElementById("sendBtn");

    sendBtn.addEventListener("click", () => {
        const msg = chatInput.value.trim();
        if (msg !== "") {
            const p = document.createElement("p");
            p.textContent = currentUser + ": " + msg;
            p.className = "text-gray-800";
            chatBox.appendChild(p);
            chatInput.value = "";
            chatBox.scrollTop = chatBox.scrollHeight;
        }
    });
</script>

</body>
</html>
