<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create Trip</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        function addDestinationField() {
            const container = document.getElementById("destinations-container");
            const input = document.createElement("input");
            input.type = "text";
            input.name = "destinationNames";
            input.placeholder = "Enter destination";
            input.classList.add(
                "w-full", "px-4", "py-2", "border", "rounded-lg", "mb-2",
                "focus:ring-2", "focus:ring-blue-500", "focus:outline-none",
                "transition", "duration-200", "hover:border-blue-400"
            );
            container.appendChild(input);
        }
    </script>
</head>
    <div th:insert="~{navbar}"></div>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-2">

    <div class="bg-white shadow-xl rounded-2xl w-full max-w-2xl p-10 border border-gray-200">
        <h2 class="text-3xl font-bold text-blue-700 mb-4 text-center">Create New Trip</h2>

        <form th:action="@{/trips/save}" th:object="${trip}" method="post" class="space-y-6">
            <input type="hidden" th:field="*{userId}" />

            <input type="hidden" th:field="*{Uploadedby}"
                   class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition hover:border-blue-400"
                   readonly />

            <div>
                <label class="block text-gray-700 font-medium mb-2">Trip Title</label>
                <input type="text" th:field="*{title}"
                       class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition hover:border-blue-400"
                       placeholder="Enter trip title" required />
            </div>

            <div>
                <label class="block text-gray-700 font-medium mb-2">Destinations</label>
                <div id="destinations-container" class="space-y-2">
                    <input type="text" name="destinationNames"
                           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition hover:border-blue-400"
                           placeholder="Enter destination" />
                </div>
                <button type="button" onclick="addDestinationField()"
                        class="mt-3 px-4 py-2 bg-green-500 text-white text-sm font-medium rounded-lg hover:bg-green-600 transition">
                    + Add Destination
                </button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-gray-700 font-medium mb-2">Start Date</label>
                    <input type="date" th:field="*{startDate}"
                           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition hover:border-blue-400" required />
                </div>

                <div>
                    <label class="block text-gray-700 font-medium mb-2">End Date</label>
                    <input type="date" th:field="*{endDate}"
                           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition hover:border-blue-400" required />
                </div>
            </div>

            <div>
                <label class="block text-gray-700 font-medium mb-2">Budget</label>
                <input type="number" th:field="*{budget}" min="0"
                       class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition hover:border-blue-400"
                       placeholder="Enter budget amount" />
            </div>

            <div>
                <label class="block text-gray-700 font-medium mb-2">Description</label>
                <textarea th:field="*{description}" rows="2"
                          class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition hover:border-blue-400"
                          placeholder="Write trip details..."></textarea>
            </div>

            <div class="text-center">
                <button type="submit"
                        class="w-full px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 hover:shadow-lg transition">
                    Save Trip
                </button>
            </div>
        </form>
    </div>

</body>
</html>